{"version":3,"sources":["services/images-api.js","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGallery/GalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["defaultParams","currentPage","searchQuery","method","baseURL","params","API_KEY","fetchImages","a","axios","get","then","response","data","hits","Container","children","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","onChange","autoComplete","placeholder","PureComponent","GalleryItem","handleClick","target","nodeName","largeImageURL","dataset","large","handleLargeURLImage","id","webformatURL","tags","onClick","src","alt","ImageGallery","console","log","images","map","user","tag","Component","Button","hasError","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","window","addEventListener","removeEventListener","createPortal","defaultProps","Loader","color","height","width","App","filter","isLoading","error","showModal","onChangeQuery","options","imagesApi","prevState","catch","finally","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e1ab45d1.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst defaultParams = {\r\n    currentPage: 1,\r\n    searchQuery: \"\",\r\n    method: \"get\",\r\n    baseURL: \"https://pixabay.com/api/\",\r\n    params: \"&image_type=photo\",\r\n    API_KEY: \"23250998-48dbeb0708fc3f5b568666898\",\r\n  };\r\n\r\nconst fetchImages = async ({ currentPage, searchQuery }) => {\r\n  const { API_KEY, params } = defaultParams;\r\n  return await axios\r\n    .get(\r\n      `?key=${API_KEY}&q=${searchQuery}&${params}&page=${currentPage}`,\r\n      defaultParams\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };","import React from 'react';\r\n\r\nconst Container = ({ children }) => <div>{children}</div>;\r\n\r\nexport default Container;","import React, { PureComponent } from \"react\";\r\n// import PropTypes from 'prop-types';\r\n// import { Test } from './Searchbar.styles';\r\n\r\nclass Searchbar extends PureComponent {\r\n  state = { query: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: \"\" });\r\n  };\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            value={query}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nclass GalleryItem extends PureComponent {\r\n  handleClick = (e) => {\r\n    if (e.target.nodeName === \"IMG\") {\r\n      this.setState({ largeImageURL: e.target.dataset.large });\r\n      this.props.handleLargeURLImage(e.target.dataset.large);\r\n    }\r\n  };\r\n  render() {\r\n    const { id, webformatURL, largeImageURL, tags } = this.props;\r\n\r\n    return (\r\n      <li\r\n        className=\"GalleryItem\"\r\n        key={webformatURL}\r\n        onClick={this.handleClick}\r\n      >\r\n        <img\r\n          id={id}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"GalleryItem-image\"\r\n          onClick={this.handleClick}\r\n          data-large={largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GalleryItem;","import React, { Component } from \"react\";\r\nimport GalleryItem from \"./GalleryItem\";\r\n\r\nclass ImageGallery extends Component {\r\n  handleClick = (e) => {\r\n    console.log(\"gallery click\");\r\n  };\r\n  handleLargeURLImage = (data) => {\r\n    this.props.handleLargeURLImage(data);\r\n  };\r\n  render() {\r\n    const { images } = this.props;\r\n    return (\r\n      <ul className=\"ImageGallery\" id=\"imagesList\">\r\n        {images.map(({ id, webformatURL, largeImageURL, tags, user }) => (\r\n          <GalleryItem\r\n            onClick={this.handleClick}\r\n            key={`${id}${user}`}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            tag={tags}\r\n            handleLargeURLImage={this.handleLargeURLImage}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass Button extends PureComponent {\r\n  state = {\r\n    hasError: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button className=\"ButtonWrapper\" onClick={this.props.onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;","import React, { PureComponent } from \"react\";\r\n// import PropTypes from 'prop-types';\r\n// import { Test } from './Modal.styles';\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal\");\r\nclass Modal extends PureComponent {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return createPortal (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          {this.props.children}\r\n          <img src={largeImageURL} alt=\"No available\"/>\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  // bla: PropTypes.string,\r\n};\r\n\r\nModal.defaultProps = {\r\n  // bla: 'test',\r\n};\r\n\r\nexport default Modal;","import React, { PureComponent } from \"react\";\r\nimport ThreeDots from \"react-loader-spinner\";\r\n\r\nclass Loader extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hasError: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n    return (\r\n      <div className=\"LoaderWrapper\">\r\n        <ThreeDots type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;","/* eslint-disable react/no-unused-state */\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport imagesApi from \"./services/images-api\";\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"./components/Loader/Loader\";\n\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    largeImageURL: \"\",\n    filter: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    currentPage: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n    imagesApi\n      .fetchImages(options)\n      .then((data) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...data],\n          currentPage: prevState.currentPage + 1,\n          error: \"\",\n        }));\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  toggleModal = () =>\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n  handleLargeURLImage = (data) => {\n    this.setState({ largeImageURL: data });\n    this.setState({ showModal: true });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, isLoading } = this.state;\n    return (\n      <div className=\"App\">\n        <Container>\n          {showModal && (\n            <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n          )}\n          <Searchbar\n            onSubmit={this.onChangeQuery}\n            searchQuery={this.searchQuery}\n          />\n          {images.length > 0 && (\n            <ImageGallery\n              images={images}\n              handleLargeURLImage={this.handleLargeURLImage}\n            />\n          )}\n          {isLoading ? (\n            <Loader />\n          ) : (\n            images.length > 0 && <Button onClick={this.fetchImages} />\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}